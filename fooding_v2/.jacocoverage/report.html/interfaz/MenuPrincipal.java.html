<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>MenuPrincipal.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;fooding_v2&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">interfaz</a> &gt; <span class="el_source">MenuPrincipal.java</span></div><h1>MenuPrincipal.java</h1><pre class="source lang-java linenums">package interfaz;

import dominio.Sistema;
import java.io.BufferedOutputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectOutputStream;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;

public class MenuPrincipal extends javax.swing.JFrame {

    private Sistema modelo;

<span class="nc" id="L16">    public MenuPrincipal(Sistema sis) {</span>
<span class="nc" id="L17">        initComponents();</span>
<span class="nc" id="L18">        this.modelo = sis;</span>
<span class="nc" id="L19">        setLocationRelativeTo(null);</span>
<span class="nc" id="L20">    }</span>

    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L26">        lblFooding = new javax.swing.JLabel();</span>
<span class="nc" id="L27">        btnRegistro = new javax.swing.JButton();</span>
<span class="nc" id="L28">        btnIngresoUsuario = new javax.swing.JButton();</span>
<span class="nc" id="L29">        btnIngresoProfesional = new javax.swing.JButton();</span>
<span class="nc" id="L30">        btnConfiguracion = new javax.swing.JButton();</span>
<span class="nc" id="L31">        lblBackground = new javax.swing.JLabel();</span>

<span class="nc" id="L33">        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);</span>
<span class="nc" id="L34">        setTitle(&quot;Menu&quot;);</span>
<span class="nc" id="L35">        setMinimumSize(new java.awt.Dimension(650, 440));</span>
<span class="nc" id="L36">        setPreferredSize(new java.awt.Dimension(650, 440));</span>
<span class="nc" id="L37">        setResizable(false);</span>
<span class="nc" id="L38">        addWindowListener(new java.awt.event.WindowAdapter() {</span>
            public void windowClosing(java.awt.event.WindowEvent evt) {
<span class="nc" id="L40">                formWindowClosing(evt);</span>
<span class="nc" id="L41">            }</span>
        });
<span class="nc" id="L43">        getContentPane().setLayout(null);</span>

<span class="nc" id="L45">        lblFooding.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 3, 36)); // NOI18N</span>
<span class="nc" id="L46">        lblFooding.setText(&quot;Fooding&quot;);</span>
<span class="nc" id="L47">        lblFooding.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));</span>
<span class="nc" id="L48">        getContentPane().add(lblFooding);</span>
<span class="nc" id="L49">        lblFooding.setBounds(350, 20, 170, 50);</span>

<span class="nc" id="L51">        btnRegistro.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 1, 13)); // NOI18N</span>
<span class="nc" id="L52">        btnRegistro.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/imagenes/clipboard-with-pencil-.png&quot;))); // NOI18N</span>
<span class="nc" id="L53">        btnRegistro.setText(&quot;Registro&quot;);</span>
<span class="nc" id="L54">        btnRegistro.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L56">                btnRegistroActionPerformed(evt);</span>
<span class="nc" id="L57">            }</span>
        });
<span class="nc" id="L59">        getContentPane().add(btnRegistro);</span>
<span class="nc" id="L60">        btnRegistro.setBounds(340, 80, 180, 50);</span>

<span class="nc" id="L62">        btnIngresoUsuario.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 1, 13)); // NOI18N</span>
<span class="nc" id="L63">        btnIngresoUsuario.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/imagenes/standing-frontal-man-silhouette.png&quot;))); // NOI18N</span>
<span class="nc" id="L64">        btnIngresoUsuario.setText(&quot;Soy usuario&quot;);</span>
<span class="nc" id="L65">        btnIngresoUsuario.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L67">                btnIngresoUsuarioActionPerformed(evt);</span>
<span class="nc" id="L68">            }</span>
        });
<span class="nc" id="L70">        getContentPane().add(btnIngresoUsuario);</span>
<span class="nc" id="L71">        btnIngresoUsuario.setBounds(240, 140, 180, 50);</span>

<span class="nc" id="L73">        btnIngresoProfesional.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 1, 13)); // NOI18N</span>
<span class="nc" id="L74">        btnIngresoProfesional.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/imagenes/engineer.png&quot;))); // NOI18N</span>
<span class="nc" id="L75">        btnIngresoProfesional.setText(&quot;Soy profesional&quot;);</span>
<span class="nc" id="L76">        btnIngresoProfesional.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L78">                btnIngresoProfesionalActionPerformed(evt);</span>
<span class="nc" id="L79">            }</span>
        });
<span class="nc" id="L81">        getContentPane().add(btnIngresoProfesional);</span>
<span class="nc" id="L82">        btnIngresoProfesional.setBounds(450, 140, 180, 50);</span>

<span class="nc" id="L84">        btnConfiguracion.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 1, 13)); // NOI18N</span>
<span class="nc" id="L85">        btnConfiguracion.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/imagenes/vegetables.png&quot;))); // NOI18N</span>
<span class="nc" id="L86">        btnConfiguracion.setText(&quot;Registro de alimentos&quot;);</span>
<span class="nc" id="L87">        btnConfiguracion.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L89">                btnConfiguracionActionPerformed(evt);</span>
<span class="nc" id="L90">            }</span>
        });
<span class="nc" id="L92">        getContentPane().add(btnConfiguracion);</span>
<span class="nc" id="L93">        btnConfiguracion.setBounds(30, 350, 200, 50);</span>

<span class="nc" id="L95">        lblBackground.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/imagenes/rsz_nutrition.jpg&quot;))); // NOI18N</span>
<span class="nc" id="L96">        getContentPane().add(lblBackground);</span>
<span class="nc" id="L97">        lblBackground.setBounds(0, 0, 655, 443);</span>

<span class="nc" id="L99">        pack();</span>
<span class="nc" id="L100">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void btnRegistroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRegistroActionPerformed
<span class="nc" id="L103">        Object seleccionRegistro = JOptionPane.showInputDialog(null, &quot;Registrarme como:&quot;, &quot;Registro&quot;, JOptionPane.QUESTION_MESSAGE, new ImageIcon(getClass().getResource(&quot;/imagenes/register.png&quot;)), new String[]{&quot;Usuario&quot;, &quot;Profesional&quot;}, &quot;Usuario.&quot;);</span>
<span class="nc bnc" id="L104" title="All 2 branches missed.">        if (seleccionRegistro != null) {</span>
<span class="nc" id="L105">            String opcion = (String) seleccionRegistro;</span>
<span class="nc bnc" id="L106" title="All 2 branches missed.">            if (opcion.equals(&quot;Usuario&quot;)) {</span>
<span class="nc" id="L107">                this.setVisible(false);</span>
<span class="nc" id="L108">                VentanaRegistroUsuario ventana = new VentanaRegistroUsuario(modelo);</span>
<span class="nc" id="L109">                ventana.setVisible(true);</span>
<span class="nc" id="L110">            } else {</span>
<span class="nc" id="L111">                this.setVisible(false);</span>
<span class="nc" id="L112">                VentanaRegistroProfesional ventana = new VentanaRegistroProfesional(modelo);</span>
<span class="nc" id="L113">                ventana.setVisible(true);</span>
            }
        }
<span class="nc" id="L116">    }//GEN-LAST:event_btnRegistroActionPerformed</span>

    private void formWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosing
        try {
<span class="nc" id="L120">            FileOutputStream file = new FileOutputStream(&quot;fooding.app&quot;);</span>

<span class="nc" id="L122">            BufferedOutputStream buffer = new BufferedOutputStream(file);</span>

<span class="nc" id="L124">            ObjectOutputStream obj = new ObjectOutputStream(buffer);</span>

<span class="nc" id="L126">            obj.writeObject(modelo);</span>

<span class="nc" id="L128">            obj.flush();</span>
<span class="nc" id="L129">            obj.close();</span>
<span class="nc" id="L130">        } catch (FileNotFoundException ex) {</span>

<span class="nc" id="L132">        } catch (IOException e) {</span>

<span class="nc" id="L134">        }</span>
<span class="nc" id="L135">    }//GEN-LAST:event_formWindowClosing</span>

    private void btnIngresoUsuarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnIngresoUsuarioActionPerformed
<span class="nc bnc" id="L138" title="All 2 branches missed.">        if (modelo.noHayUsuariosRegistrados()) {</span>
<span class="nc" id="L139">            JOptionPane.showMessageDialog(null, &quot;No hay usuarios registrados.&quot;, &quot;Atención&quot;, 0, new ImageIcon(getClass().getResource(&quot;/imagenes/warning.png&quot;)));</span>

        } else {
<span class="nc" id="L142">            this.setVisible(false);</span>
<span class="nc" id="L143">            VentanaSeleccionUsuario ventana = new VentanaSeleccionUsuario(modelo);</span>
<span class="nc" id="L144">            ventana.setVisible(true);</span>
        }
<span class="nc" id="L146">    }//GEN-LAST:event_btnIngresoUsuarioActionPerformed</span>

    private void btnIngresoProfesionalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnIngresoProfesionalActionPerformed
<span class="nc bnc" id="L149" title="All 2 branches missed.">        if (modelo.noHayProfesionalesRegistrados()) {</span>
<span class="nc" id="L150">            JOptionPane.showMessageDialog(null, &quot;No hay profesionales registrados.&quot;, &quot;Atención&quot;, 0, new ImageIcon(getClass().getResource(&quot;/imagenes/warning.png&quot;)));</span>

        } else {
<span class="nc" id="L153">            this.setVisible(false);</span>
<span class="nc" id="L154">            VentanaSeleccionProfesional ventana = new VentanaSeleccionProfesional(modelo);</span>
<span class="nc" id="L155">            ventana.setVisible(true);</span>
        }
<span class="nc" id="L157">    }//GEN-LAST:event_btnIngresoProfesionalActionPerformed</span>

    private void btnConfiguracionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnConfiguracionActionPerformed
<span class="nc" id="L160">        this.setVisible(false);</span>
<span class="nc" id="L161">        VentanaRegistroAlimento ventana = new VentanaRegistroAlimento(modelo);</span>
<span class="nc" id="L162">        ventana.setVisible(true);</span>
<span class="nc" id="L163">    }//GEN-LAST:event_btnConfiguracionActionPerformed</span>


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnConfiguracion;
    private javax.swing.JButton btnIngresoProfesional;
    private javax.swing.JButton btnIngresoUsuario;
    private javax.swing.JButton btnRegistro;
    private javax.swing.JLabel lblBackground;
    private javax.swing.JLabel lblFooding;
    // End of variables declaration//GEN-END:variables
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>